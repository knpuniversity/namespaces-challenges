language: php

sudo: false

cache:
    directories:
        - $HOME/.composer/cache/files

php:
    - 5.6

before_install:
    - git clone https://github.com/knpuniversity/challenger.git $HOME/challenger
    - composer install -d $HOME/challenger
    - export CHALLENGER_REPO_SHA=$TRAVIS_COMMIT
    - export CHALLENGER_REPO_URL=https://github.com/$TRAVIS_REPO_SLUG
    - echo $CHALLENGER_REPO_URL

script: php $HOME/challenger/bin/challenger test 

notifications:
    slack:
        secure: OzaLzqqITF+jiI1ju5Mqh4lrEV9TKF87u7sH0sj2R1/uLk2FlGWedq18xK/sgPqQV7UB00qyOC3wuoWzIyqSTirmI5mAFnDgjfE7JCuM2mnB8VLmOAdicOMPKvzheTFGX+W7BLlh6xroef4jeU18Ax5Z9G0IdfEt8Z1j2vnEw++IMIBV1lc0TLDY8J3D85MwaSf4O/kLMiEsLm+hOYlgQGweTGMcGxxhELFTgT18EGuZFyTUd9DGEksqz998ru9LLIajGJV0igbDNKMw0b70LGfYrlPH/VIHzAIlYsz/5EASO1aMHMF7c4lfgAsbqnnyMak63UMcq06iWq2p8iLQPlEceFXNY9EoOAHzwENAUPoWtVFwW3txbKfr0uMItUVxPNDI7d6fVm3I4Ymr76cq+9c2PaIMkyefl30qwXhr6P42xTd8gTrTaGUp0Jgo3QrmjV+qjLgDuYHxm7bKPnZ4FuAiNTPm+JbCkVl5xgFOUX09dHUfbZ2VYS4X4iwBxjHqflYXr4ZbkMkGmQ+/doXq7wM/MytcJ+MHJ3p4jm9J59GO60mqPpmGmIyVvfEiA/XmtHv6Hvg74iNRQvEgLMX4eSS/Ln2ZdsoKko7q0s4BH/TF74S93byDDKvBxxw1hhG+LXCRqOfScGfKXGAKJZJySFY9S3FgirMv6eBup3H2eDw=
